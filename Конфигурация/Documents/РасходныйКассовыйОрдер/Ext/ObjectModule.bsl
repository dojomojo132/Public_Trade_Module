Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	
	// Инициализация записи регистра
	Движения.ДенежныеСредства.Записывать = Истина;
	
	// Расход денежных средств из кассы
	Движение = Движения.ДенежныеСредства.Добавить();
	Движение.ВидДвижения = ВидДвиженияНакопления.Расход;
	Движение.Период = Дата;
	Движение.Касса = Касса;
	Движение.Сумма = СуммаДокумента;
	
КонецПроцедуры

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)
	
	Если ЭтоНовый() И ТипЗнч(ДанныеЗаполнения) = Тип("Неопределено") Тогда
		// Заполняем кассу из настроек по умолчанию
		Если Касса.Пустая() Тогда
			Касса = НастройкиПоУмолчанию.ПолучитьКассу();
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры
