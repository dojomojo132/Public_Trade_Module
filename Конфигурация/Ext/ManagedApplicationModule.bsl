// Модуль управляемого приложения

Перем глДрайверСканера Экспорт;
Перем глКэшДрайверовККТ Экспорт;

Процедура ПриНачалеРаботыСистемы()
	
	глКэшДрайверовККТ = Новый Соответствие;
	
КонецПроцедуры

Процедура ПриЗавершенииРаботыСистемы()
	
	Если глДрайверСканера <> Неопределено Тогда
		Попытка
			глДрайверСканера.DeviceEnabled = Ложь;
			глДрайверСканера = Неопределено;
		Исключение
		КонецПопытки;
	КонецЕсли;
	
	Если глКэшДрайверовККТ <> Неопределено Тогда
		Для Каждого ЭлементКэша Из глКэшДрайверовККТ Цикл
			Попытка
				Драйвер = ЭлементКэша.Значение;
				Драйвер.DeviceEnabled = Ложь;
			Исключение
			КонецПопытки;
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры