# План перехода на платформу 8.3.27

**Дата начала:** 2026-01-21  
**Версия конфигурации:** 1.0.3 → 1.1.0  
**Платформа:** 8.3.24.1342 → 8.3.27.1964

---

## ✅ Этап 1: Подготовка (ВЫПОЛНЕНО)

- [x] Обновлен `Configuration.xml` - режим совместимости → `Version8_3_27`
- [x] Обновлена спецификация - версия 1.1.0, целевая платформа 8.3.27
- [x] Создан план миграции

---

## 🔄 Этап 2: Аудит кода (✅ ЗАВЕРШЕНО - 2026-01-21)

### ✅ Асинхронные вызовы
- [x] РабочееМестоКассира - ПоказатьВопрос + callback (корректно)
- [x] ТестовоеЗаполнениеЦен - Асинх/Ждать (корректно)
- [x] МенеджерОборудования - синхронный COM (требует тестирования)
- [x] Обработчики форм - без блокирующих вызовов

### ✅ HTTP-соединения
- [x] Отсутствуют в проекте (фискал через COM)

### ⚠️ Запросы
- [x] Найдено 1 ЛЕВОЕ СОЕДИНЕНИЕ - требует тестирования
- [ ] Профилирование производительности

### ⚠️ Устаревший код
- [x] COM-объекты найдены - требуют тестирования
- [x] Глобальные переменные - рефакторинг (низкий приоритет)

**Подробный отчет:** [АУДИТ_8.3.27.md](АУДИТ_8.3.27.md)

---

## 🧪 Этап 3: Тестирование

- [ ] Модульное тестирование всех модулей
- [ ] Интеграционное тестирование РМК
- [ ] Нагрузочное тестирование (100+ чеков)
- [ ] Проверка фискализации
- [ ] Проверка работы со сканерами

---

## 📋 Этап 4: Документация

- [ ] Обновить `docs/syntax-8.3.24.md` → `syntax-8.3.27.md`
- [ ] Зафиксировать breaking changes
- [ ] Обновить примеры кода
- [ ] Создать changelog миграции

---

## 🎯 Этап 5: Финализация

- [ ] Загрузить конфигурацию в 8.3.27
- [ ] Проверить работоспособность
- [ ] Commit & Tag: v1.1.0
- [ ] Обновить README

---

## ⚠️ Риски

1. **Асинхронность** - возможны изменения поведения `Ждать`
2. **HTTP** - изменения в работе с сертификатами
3. **Производительность** - нужна проверка на реальных данных
4. **Совместимость** - проверить работу с 8.3.24 (если требуется)

---

## 📝 Примечания

- Платформа 8.3.27 требует переиндексацию базы при первой загрузке
- Рекомендуется создать резервную копию базы перед миграцией
- Протестировать на тестовой базе перед production
