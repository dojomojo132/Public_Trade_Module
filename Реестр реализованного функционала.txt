РЕЕСТР ФУНКЦИОНАЛА

 Документ "ПриходТовара"

1. Автоматизация заполнения (При создании)

    Заполнение Склада: Подставляется значение из константы ОсновнойСклад (если не заполнено).

    Заполнение Поставщика: Подставляется значение из константы ОсновнойПоставщик (если не заполнено).

2. Ценообразование (Интерактивная работа в форме)

    Получение наценки: При выборе номенклатуры подтягивается плановый ПроцентНаценки из карточки товара.

    Авто-расчет цены: При вводе цены закупки автоматически рассчитывается ЦенаРозничнаяНовая по формуле: Закупка * (1 + % / 100).

    Умное округление: Рассчитанная цена округляется согласно правилу, заданному в константе ПорядокОкругленияЦен.

    Справочная информация: Отображение ЦенаРозничнаяТекущая (из регистра цен) для сравнения с новой ценой.

3. Расчеты (Перед записью)

    Итоговая сумма: Автоматический пересчет реквизита шапки СуммаДокумента как суммы по всем строкам табличной части.

4. Учетные движения (Проведение)

    Склад: Приход (+) в регистр ОстаткиТоваров.

    Финансы: Расход (-) в регистр Взаиморасчеты (увеличение нашего долга перед поставщиком).

    История цен: Запись в регистр сведений ЦеныЗакупки (фиксация последней входной цены).
	
РЕЕСТР ФУНКЦИОНАЛА: Документ "Переоценка"

1. Ввод на основании (Интеграция)

    Источник: Документ "ПриходТовара".

    Логика: Автоматическое заполнение табличной части товарами, у которых в приходе была рассчитана новая розничная цена (ЦенаРозничнаяНовая).

    Фильтр: Исключение позиций, цена которых не изменилась (оптимизация состава документа).

2. Валидация данных (Контроль)

    Защита: Запрет проведения документа, если цена товара равна 0 или отрицательна (через ОбработкаПроверкиЗаполнения).

3. Учетные движения (Проведение)

    Ценообразование: Запись в периодический регистр сведений ЦеныНоменклатуры.

    Аналитика: Фиксация цены в разрезе Номенклатуры и ТипаЦен.
	
Документ "СписаниеТовара"

    Контроль остатков: Реализована строгая проверка наличия товара на складе перед списанием (активируется константой КонтролироватьОстаткиПриСписании).

    Аналитика: Внедрен справочник ПричиныСписания для классификации выбытия (Порча, Бой и т.д.).

    Надежность: Используется механизм БлокировкаДанных для корректной работы в многопользовательском режиме.

Документ "ИнвентаризацияТоваров"

    Автоматизация: Реализована кнопка "Заполнить по остаткам" (срез на дату документа).

    Интерфейс: Автоматический расчет колонки Отклонение (Факт - Учет) при редактировании строк пользователем.

    Умное проведение: Документ сам определяет вид движения:

        Если Отклонение > 0 — Оприходование излишков (Приход).

        Если Отклонение < 0 — Списание недостачи (Расход).

        Если Отклонение = 0 — Движения не формируются.
		
МОДУЛЬ: Розничная торговля (РМК)

1. Документ "ЧекККМ" (Рабочее место кассира)

    Гибридная фискализация: Поддержка печати одного чека для покупателя, который внутри системы делится на разные юрлица/кассы (например, ИП для продуктов и ООО для алкоголя).

    Маркировка: Интегрирован механизм проверки акцизных товаров. Система блокирует продажу без сканирования кода DataMatrix.

    Финансы: Поддержка смешанной оплаты (Наличные + Карта) с валидацией сумм.

2. Документ "ФискальныйЧек"

    Технический слой: Служит "тенью" реального бумажного чека. Хранит номер ФД, ФПД и ссылку на конкретное оборудование.

3. Аналитика

    Регистр "Продажи": Накапливает данные по выручке, себестоимости и количеству в разрезе Касс, Смен и Сотрудников.
	
МОДУЛЬ: Служебные инструменты и НСИ

1. Глобальный поиск (Клиент-Серверная архитектура)
    Интерактивность: Реализован клиентский метод "НайтиИОбработатьТовар" (Модуль ОбщегоНазначенияКлиент), который управляет процессом поиска.
    Алгоритм: 
        - Шаг 1: Поиск по штрихкоду (точное совпадение).
        - Шаг 2: Если не найдено — поиск по Коду или Артикулу.
    Обработка коллизий: Если найдено несколько товаров (дубли штрихкодов), пользователю выводится модальное окно выбора конкретной позиции.

2. Справочник "Номенклатура"
    Автозаполнение: При записи карточки, если поле "Артикул" пустое, оно автоматически заполняется значением поля "Код".

МОДУЛЬ: Рабочее Место Кассира (РМК) — Украина

1. Управление сменой
   Автоматизация: При старте РМК система ищет открытую смену.
   Интерактивность: При отсутствии смены реализован диалог "Открыть новую смену?" с автоматическим созданием документа "КассоваяСмена".

2. Реализация товаров
   Акцизный контроль: Реализован перехват добавления товара. Для акцизных позиций (Номенклатура.ТребуетАкцизнуюМарку) запрашивается ввод кода марки.
   Оплата: Реализован выбор типа оплаты (Наличные / Банковская карта) перед фискализацией.

3. Интерфейс
   Поиск: Внедрен глобальный механизм поиска (Штрихкод -> Коллизии -> Артикул).
   Очистка: Корректное удаление динамических кнопок товаров при закрытии формы.