# PTM — Public Trade Module

**Конфигурация для розничной торговли на платформе 1С:Предприятие 8.3.27**

[![Платформа](https://img.shields.io/badge/1С-8.3.27-blue.svg)](https://releases.1c.ru)
[![Статус](https://img.shields.io/badge/статус-разработка-yellow.svg)]()
[![Лицензия](https://img.shields.io/badge/лицензия-proprietary-red.svg)]()

---

## 📋 О проекте

PTM (Public Trade Module) — модульная конфигурация для автоматизации розничной торговли, разработанная на платформе 1С:Предприятие 8.3.27. Система включает функционал управления товарами, продажами, складским учётом и взаиморасчётами.

### Ключевые возможности

- 🛒 **Рабочее место кассира** — полнофункциональный POS-терминал
- 📦 **Складской учёт** — приход, списание, перемещение товаров
- 💳 **Дисконтные карты** — гибкая система скидок
- 📊 **Отчётность** — продажи, остатки, взаиморасчёты
- 🔌 **Оборудование** — поддержка сканеров штрихкодов, принтеров чеков

---

## 📚 Документация

Вся актуальная документация находится в папке [`Документация/`](Документация/)

### 📖 Основные документы

| Документ | Описание |
|----------|----------|
| [**Техническая спецификация**](Документация/Спецификации/ТЕХНИЧЕСКАЯ%20СПЕЦИФИКАЦИЯ%20КОНФИГУРАЦИИ%20PTM%20(Public%20Trade%20Module).xml) | Единственный источник истины — полное описание всех объектов |
| [**Алгоритм разработки**](Документация/Спецификации/Алгоритм%20разработки.xml) | Процесс разработки новых функций |
| [**Стандарт описания объектов**](Документация/Спецификации/Стандарт_описания_объектов.xml) | Шаблон документирования |
| [**Регламент актуализации**](Документация/Спецификации/Регламент%20актуализации%20документации.xml) | Правила обновления документации |

### 🔧 Технические стандарты

| Документ | Описание |
|----------|----------|
| [1C Standards 8.3.27](Документация/Технические_стандарты/1c-standards-8.3.27.md) | Стандарты кодирования, синтаксис, правила именования |
| [Form Elements](Документация/Технические_стандарты/form-elements.md) | Справочник элементов форм |
| [XML Structure](Документация/Технические_стандарты/xml-structure-8.3.27.md) | Структура XML-файлов конфигурации |
| [Syntax Reference](Документация/Технические_стандарты/syntax-8.3.27.md) | Справочник синтаксиса встроенного языка |
| [Testing & Debug](Документация/Технические_стандарты/testing-and-debug-setup.md) | Настройка тестирования и отладки |
| [Аудит 8.3.27](Документация/Технические_стандарты/АУДИТ_8.3.27.md) | Результаты аудита платформы |
| [Миграция 8.3.27](Документация/Технические_стандарты/МИГРАЦИЯ_8.3.27.md) | Руководство по миграции |

### 📊 Отчёты

| Отчёт | Дата | Описание |
|-------|------|----------|
| [Cleanup Report](Документация/Отчёты/CLEANUP_REPORT.md) | 24.01.2026 | Отчёт об очистке структуры проекта |

---

## 🏗️ Структура проекта

```
Public_Trade_Module/
├── 📁 Документация/              # Вся документация проекта
│   ├── Спецификации/            # Техническая спецификация, регламенты
│   ├── Технические_стандарты/   # Стандарты 1С, форм, XML
│   └── Отчёты/                  # Отчёты о работах
├── 📁 Конфигурация/              # Файлы конфигурации 1С:Предприятие
│   ├── AccumulationRegisters/   # Регистры накопления
│   ├── Catalogs/                # Справочники
│   ├── CommonModules/           # Общие модули
│   ├── Documents/               # Документы
│   ├── DataProcessors/          # Обработки
│   ├── InformationRegisters/    # Регистры сведений
│   ├── Reports/                 # Отчёты
│   └── ...                      # Другие объекты метаданных
├── 📁 mcp-config/                # MCP-сервер для метаданных
├── 📁 ScannerEmulator/           # Эмулятор сканера штрихкодов
├── 📁 Тесты/                     # Внешние обработки для тестирования
├── 📁 _archive/                  # Архив неиспользуемых файлов
└── 📄 Configuration.xml          # Корневой файл конфигурации
```

---

## 🚀 Быстрый старт

### Требования

- **Платформа:** 1С:Предприятие 8.3.27.1719+
- **ОС:** Windows 10/11, Windows Server 2016+
- **RAM:** минимум 4 GB
- **Диск:** 500 MB свободного места

### Установка

1. Клонировать репозиторий:
   ```bash
   git clone <repository-url>
   cd Public_Trade_Module
   ```

2. Открыть в Конфигураторе 1С:
   - Запустить Конфигуратор 1С
   - Создать новую информационную базу
   - Загрузить конфигурацию из файлов: `Configuration.xml` (каталог `Конфигурация/`)

3. Обновить конфигурацию БД:
   - Конфигурация → Обновить конфигурацию базы данных
   - Запустить 1С:Предприятие

### Тестовые данные

Для быстрого старта используйте встроенные обработки:

```
Обработки → ТестовоеЗаполнениеДанных
```

---

## 🛠️ Разработка

### Инструменты

- **IDE:** 1C:Enterprise Development Tools / VS Code + BSL Language Server
- **Version Control:** Git
- **MCP Tools:** Инструменты для работы с метаданными через GitHub Copilot

### Процесс разработки

1. **Изучить** [Техническую спецификацию](Документация/Спецификации/ТЕХНИЧЕСКАЯ%20СПЕЦИФИКАЦИЯ%20КОНФИГУРАЦИИ%20PTM%20(Public%20Trade%20Module).xml)
2. **Следовать** [Алгоритму разработки](Документация/Спецификации/Алгоритм%20разработки.xml)
3. **Соблюдать** [Стандарты кодирования](Документация/Технические_стандарты/1c-standards-8.3.27.md)
4. **Обновлять** документацию согласно [Регламенту](Документация/Спецификации/Регламент%20актуализации%20документации.xml)

### GitHub Copilot

Для работы с GitHub Copilot настроены специальные инструкции:
- `.github/copilot-instructions.md` — правила работы агента

---

## 📦 Компоненты системы

### Основные подсистемы

| Подсистема | Назначение |
|------------|------------|
| **Торговля** | Продажи, чеки, возвраты |
| **Склад** | Приход, списание, перемещение товаров |
| **Справочники** | Номенклатура, контрагенты, склады |
| **CRM** | Дисконтные карты, лояльность |
| **Администрирование** | Настройки, пользователи, права |

### Регистры

- **Накопления:** Остатки товаров, продажи, взаиморасчёты, денежные средства
- **Сведений:** Цены номенклатуры, штрихкоды, настройки оборудования

---

## 🧪 Тестирование

Тестовые внешние обработки находятся в папке [`Тесты/`](Тесты/)

```
ТестированиеПоискаПоШтрихкоду.epf  — тестирование сканера
```

Эмулятор сканера: [`ScannerEmulator/`](ScannerEmulator/)

---

## 📞 Поддержка

Для вопросов по разработке:
1. Изучите [Техническую спецификацию](Документация/Спецификации/)
2. Проверьте [Технические стандарты](Документация/Технические_стандарты/)
3. Посмотрите [Отчёты о работах](Документация/Отчёты/)

---

## 📝 Лицензия

Proprietary — все права защищены.

---

## 🗂️ История версий

| Версия | Дата | Описание |
|--------|------|----------|
| 1.1.0 | 2026-01 | Миграция на платформу 8.3.27, асинхронность, оптимизация |
| 1.0.3 | 2025-12 | Добавлены дисконтные карты, улучшена производительность |
| 1.0.0 | 2025-11 | Первая рабочая версия |

---

**Дата обновления документа:** 24 января 2026 г.
